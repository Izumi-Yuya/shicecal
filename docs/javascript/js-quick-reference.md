# JavaScript ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

## ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ï¼ˆé‡è¦åº¦é †ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² | ç·¨é›†é »åº¦ |
|---------|------|---------|
| `app-unified.js` | ã‚³ã‚¢ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ | ğŸ”´ é«˜ |
| `app.js` | ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ | ğŸŸ¡ ä¸­ |
| `modules/*.js` | æ©Ÿèƒ½åˆ¥ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | ğŸ”´ é«˜ |
| `shared/*.js` | å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ | ğŸŸ¢ ä½ |

## ğŸš« å‰Šé™¤ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«

- ~~`app-unified-backup.js`~~ - ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¸è¦ï¼‰

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ï¼ˆç°¡æ˜“ç‰ˆï¼‰

```
resources/js/
â”œâ”€â”€ app.js                    â† START HERE (ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼)
â”œâ”€â”€ app-unified.js            â† CORE (ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯)
â”œâ”€â”€ modules/                  â† FEATURES (æ©Ÿèƒ½)
â”‚   â”œâ”€â”€ DocumentManager.js
â”‚   â”œâ”€â”€ LifelineDocumentManager.js
â”‚   â””â”€â”€ ...
â””â”€â”€ shared/                   â† UTILS (ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£)
    â”œâ”€â”€ ApiClient.js
    â””â”€â”€ AppUtils.js
```

## ğŸ¯ ã‚ˆãä½¿ã†æ“ä½œ

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ã‚’å†åˆæœŸåŒ–
```javascript
window.shiseCalApp.initializeLifelineDocumentManagers();
```

### æ–½è¨­ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
```javascript
const facility = window.shiseCalApp.modules.facilityManager;
```

### APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ
```javascript
const api = new ApiClient();
const data = await api.get('/api/facilities/1');
```

### ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥
```javascript
AppUtils.showToast('æˆåŠŸã—ã¾ã—ãŸ', 'success');
```

### ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
```javascript
const confirmed = await AppUtils.confirmDialog('å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');
if (confirmed) {
  // å‰Šé™¤å‡¦ç†
}
```

## ğŸ”§ é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
npm run dev

# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ†ã‚¹ãƒˆ
npm run test
```

## ğŸ› ãƒ‡ãƒãƒƒã‚°

### ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèª
```javascript
// ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“
window.shiseCalApp

// ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¸€è¦§
window.shiseCalApp.modules

// ç‰¹å®šã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
window.shiseCalApp.modules.lifelineDocumentManager_electrical
```

### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼**: `Cannot read property 'init' of undefined`
**åŸå› **: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„
**è§£æ±º**: åˆæœŸåŒ–ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™

**ã‚¨ãƒ©ãƒ¼**: `this is undefined`
**åŸå› **: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®å–ªå¤±
**è§£æ±º**: ã‚¢ãƒ­ãƒ¼é–¢æ•°ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã€`bind(this)`

## ğŸ“š è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [JavaScript ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](./javascript-architecture.md) - è©³ç´°ãªæ§‹é€ èª¬æ˜
- [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹é€ ](./frontend-structure.md) - é–‹ç™ºã‚¬ã‚¤ãƒ‰
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](../.kiro/steering/tech.md) - ä½¿ç”¨æŠ€è¡“
- [ãƒ©ã‚¤ãƒ•ãƒ©ã‚¤ãƒ³è¨­å‚™ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¡¨ç¤ºä¿®æ­£](./lifeline-document-display-fix.md) - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°äº‹ä¾‹

## ğŸ’¡ ãƒ’ãƒ³ãƒˆ

1. **æ–°æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å ´åˆ**
   - `modules/`ã«æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
   - `app-unified.js`ã§åˆæœŸåŒ–

2. **æ—¢å­˜æ©Ÿèƒ½ã‚’ä¿®æ­£ã™ã‚‹å ´åˆ**
   - è©²å½“ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ç·¨é›†

3. **ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å¤‰æ›´ã™ã‚‹å ´åˆ**
   - `resources/css/`ã®è©²å½“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†

4. **ã‚ã‹ã‚‰ãªã„å ´åˆ**
   - ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§`window.shiseCalApp`ã‚’ç¢ºèª
   - è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§
