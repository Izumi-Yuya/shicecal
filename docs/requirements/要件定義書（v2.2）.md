要件定義書テンプレート

[1\. ドキュメント基本情報](#1.-ドキュメント基本情報)

[更新履歴](#更新履歴)

[2\. 背景・目的](#2.-背景・目的)

[3\. スコープ（対象範囲）](#3.-スコープ（対象範囲）)

[【対象範囲】](#【対象範囲】)

[【対象外】](#【対象外】)

[4\. 利用者・関係者](#4.-利用者・関係者)

[5\. 業務フロー](#5.-業務フロー)

[【現状（As-Is）】](#【現状（as-is）】)

[【改善後（To-Be）】](#【改善後（to-be）】)

[6\. 主な機能要件](#6.-主な機能要件)

[6.1 実装対象の機能一覧（本開発スコープ内）](#6.1-実装対象の機能一覧（本開発スコープ内）)

[6.2 将来的機能（スコープ外・保守フェーズ以降に検討）](#6.2-将来的機能（スコープ外・保守フェーズ以降に検討※今回の開発では未対応）)

[7\. 非機能要件](#7.-非機能要件)

[8\. データ要件（例）](#8.-データ要件（例）)

[9\. 権限・操作制限（承認フロー含む）](#9.-権限・操作制限（承認フロー含む）)

[承認フロー：](#承認フロー：)

[10\. スケジュール](#10.-スケジュール)

[11\. 添付資料・参考資料（予定）](#11.-添付資料・参考資料（予定）)

---

# 施設カルテシステム 要件定義書（v2.2 ドラフト）

---

# 1\. ドキュメント基本情報 {#1.-ドキュメント基本情報}

* ドキュメント名：施設カルテシステム 要件定義書（v2.2 ドラフト）

* 作成日：2025年6月13日

* 作成者：泉勇也

* バージョン：v2.2（作成日：2025年7月4日現在）

* アプリ名称：Shise-Cal（シセカル）

#### **更新履歴** {#更新履歴}

* 2025/06/13 v1.0 初版作成（泉）

* 2025/06/19 v1.1 モック進捗・未実装機能・CSV出力仕様・承認フロー・修繕履歴・スケジュールを反映（泉）

* 2025/06/27 v2.1 年次情報確認機能の追記、PDF出力仕様整理、承認フロー・操作権限・ロール定義の明確化（泉）

* 2025/07/04 v2.2（泉）  
  * 非機能要件に「社内の固定IPアドレスからのみアクセス可能」のIP制限を追加  
  * 編集者の中に「一次対応者」ロールを新設し、コメント通知への一次対応を担う役割として定義  
  * 承認フローにおいて、閲覧者からの「相違コメント」に対して一次対応者が確認・対応・更新する運用を明記  
  * 機能要件（6章）を「6.1：実装対象」「6.2：将来的機能（スコープ外）」に分割し、スコープ外機能を整理・注記を追加  
  * コメント機能の要件に「通知先編集者の中で一次対応者が対応する」処理を追加  
  * データ要件（8章）を拡充し、「会社名、事業所コード、施設名、郵便番号、住所、電話番号」等の管理項目を追加記載  
  * 文言や構成の整合性を一部調整（例：CSV出力／閲覧者の分類／保存仕様などの表現を統一）

---

# 2\. 背景・目的 {#2.-背景・目的}

現状、施設情報は紙やExcel等で個別に管理されており、更新漏れ・重複・誤記などのリスクがある。

本システムは、情報を一元管理し、権限と承認機能によって業務効率と情報の整合性を向上させることを目的とする。

なお、本要件定義書に記載された内容は、これまでの定例会議等における協議を経て、関係者間で合意済みである。今後の開発工程に先立ち、本ドキュメントの内容を根拠とした覚書（MOU）を締結する予定である。

---

# 3\. スコープ（対象範囲） {#3.-スコープ（対象範囲）}

#### 【対象範囲】 {#【対象範囲】}

* 施設基本情報の登録・更新

* 契約・建物情報の管理

* PDF出力・CSV出力

* 閲覧・通知・承認フロー

* 修繕履歴管理

* 年次情報確認機能（旧：棚卸）

#### 【対象外】 {#【対象外】}

* 会計・請求業務

* 外部業者との契約業務

* 契約書アラート通知（将来的に検討）

* 施設側による点検PDFのアップロード（現時点では本社対応）

---

# 4\. 利用者・関係者 {#4.-利用者・関係者}

| ロール | 部署 | 操作内容 | 閲覧範囲 |
| ----- | ----- | ----- | ----- |
| システム管理者 | 総務部 情報システム担当 | ユーザー登録／削除、ロール設定、ログ管理等 | 全施設 |
| 編集者（一次対応者） | 総務部・企画管理部など | 閲覧者からの項目相違コメント通知への一次対応（確認・修正・対応報告など） | 全施設 |
| 編集者 | 総務部、企画管理部、経理部 | 施設情報や修繕履歴の登録・編集・削除、ファイルのアップロード・更新・削除 | 全施設 |
| 承認者 | 上記各部門の上席者 | 編集された内容の確認・承認・差戻し | 全施設 |
| 閲覧者（役員・本社） | 役員・経営企画部等 | 閲覧、CSV出力、PDFダウンロード、通知機能 | 全施設 |
| 閲覧者（部門責任者） | サービス別責任者 | 自部門の複数施設の閲覧、CSV出力、PDFダウンロード、通知機能 | 該当部門の施設 |
| 閲覧者（地区担当） | 地区担当者 | 担当地区の施設を閲覧、CSV出力、PDFダウンロード、通知機能 | 担当地区の施設 |
| 閲覧者（事業所） | 各施設 | 自施設のみ閲覧、PDFダウンロード、通知機能 | 自施設 |

---

# 5\. 業務フロー {#5.-業務フロー}

#### 【現状（As-Is）】 {#【現状（as-is）】}

* 各部署がExcelで施設情報を個別管理

* 修正や更新に時間がかかる

* 情報の整合性に課題がある

#### 【改善後（To-Be）】 {#【改善後（to-be）】}

* クラウド上で施設情報を一元管理

* 権限・ロールに応じた閲覧／編集／承認処理

* 承認済み情報のみを出力可能

* 自動通知・履歴管理により整合性・効率性向上

---

# 6\. 主な機能要件 {#6.-主な機能要件}

本システムで取り扱う機能要件は、「現段階で実装対象とする機能（6.1）」と「将来的に拡張可能な機能（6.2）」に分類されます。

開発フェーズでは6.1の機能を中心に設計・実装を行い、6.2の内容は保守または次期開発での検討対象とします。

---

## 6.1 実装対象の機能一覧（本開発スコープ内） {#6.1-実装対象の機能一覧（本開発スコープ内）}

| No | カテゴリ | 機能名 | 目的 | 概要・説明 |
| ----- | ----- | ----- | ----- | ----- |
| 1 | 施設管理 | 施設一覧表示 | 施設情報を俯瞰的に確認するため | 都道府県名・事業所コード・施設名・最終更新日などを一覧表示し、絞り込み検索が可能 |
| 2 | 施設管理 | 施設詳細表示 | 施設の詳細状況を把握するため | ユーザーロールごとに操作ボタンを表示（編集・承認・出力・通知など） |
| 3 | 施設管理 | 施設登録／編集／削除 | 施設情報の最新化・誤り訂正のため | 新規登録・編集・削除の操作を実行可能 |
| 4 | ファイル管理 | PDFアップロード | 重要書類を一元管理するため | 契約書・図面などのPDFファイルを施設単位で登録 |
| 5 | 権限制御 | ユーザーごとの閲覧制御 | 役割に応じた適切な情報制御のため | ロール別に閲覧・操作機能を制御 |
| 6 | 権限制御 | 操作権限設定（変更可能） | 組織変更などへの柔軟対応のため | 地区担当などの権限変更に対応 |
| 7 | ファイル管理 | PDF出力 | 提出資料や報告書の作成に活用するため | 承認済み情報を帳票形式で出力（改ざん防止仕様） |
| 8 | 承認機能 | 承認ルールの管理 | 承認プロセスを適切に管理するため | 誰が何を承認するかのルールを管理 |
| 9 | コメント機能 | コメント記録・通知 | 確認内容や修正依頼などを記録・共有し、対応漏れを防止するために、コメント機能を設けます。 | 基本機能：閲覧者はコメントを入力することができます。入力されたコメントは、対象となる施設情報や項目に紐づけて記録・保存されます。コメントが投稿されると、編集者のうち一次対応者に自動通知されます。対応フローおよびステータス管理：一次対応者は、通知されたコメント内容を確認のうえ、必要に応じて該当データの修正または対応を実施します。対応状況については、「未対応」「対応中」「対応済」等のステータスとして管理できるようにし、進捗状況が可視化される仕組みとします。閲覧権限：コメントは、対象項目に関係する全ての編集者および承認者に通知され、通知内容は部門別に分類された形で表示される。これにより、各部門における確認・対応の抜け漏れを防ぐ。通知ルールは担当部門ごとに事前設定された対応担当（一次対応者）を含め、運用フローに従って管理される。ただし、コメントを入力した閲覧者本人に限り、自身のコメントの対応状況を確認できるものとし、たとえばマイページ等の専用画面での表示を想定します。 |
| 10 | CSV出力 | 項目のCSV出力 | 業務報告・集計作業の効率化のため | 任意の出力項目を選択し、Excelで正しく表示されるように文字化け対策を施したCSV（UTF-8+BOM形式）として出力可能とする。 |
| 11 | CSV出力 | 出力ルールの保存 | 出力条件の再利用による業務効率化のため | 項目と施設の組み合わせを「お気に入り」としてデータベースに保存可能とする。「お気に入り」の登録件数に上限は設けず、任意の件数を保存できるものとする。また、登録済みのお気に入りは削除および名称変更が可能とする。 |
| 12 | ログ管理 | 更新ログの記録・確認 | 操作履歴の可視化・監査対応のため | 誰が・いつ・何を操作したかの履歴を保持 |
| 13 | 閲覧者操作 | PDFダウンロード | 必要書類を現場でも確認できるようにするため | 閲覧権限を持つユーザーがPDFをダウンロード可能 |
| 14 | 閲覧者操作 | CSVダウンロード | データの二次利用・分析のため | 閲覧者によるCSV出力（編集権限はなし） |
| 15 | 管理画面 | 管理者専用画面 | 施設全体の管理状況を把握するため | 登録状況・承認状況・ログなどを一覧表示 |
| 20 | 施設管理 | 修繕履歴の記録 | 修繕の履歴を蓄積し、次回対応に備えるため | 修繕対応日・内容などを登録・参照できる簡易履歴管理 |
| 21 | 情報定期確認 | 年次情報確認依頼 | 情報の整合性確認と監査証跡の確保 | 年1回、施設責任者が確認 → 相違時は編集者に通知。ログ記録も可能 |

---

## 6.2 将来的機能（**スコープ外**・保守フェーズ以降に検討※今回の開発では未対応） {#6.2-将来的機能（スコープ外・保守フェーズ以降に検討※今回の開発では未対応）}

以下の機能は、現段階では開発スコープ外とし、保守フェーズまたは次期リリースにて導入を検討します。※以下は次期開発または保守対応を前提とした将来的機能です。

| No | カテゴリ | 機能名 | 目的 | 概要・説明 |
| ----- | ----- | ----- | ----- | ----- |
| 16 | 将来的機能 | 契約書アラート | 契約更新漏れの防止 | 契約更新日を事前に通知するリマインド機能（保守フェーズでの対応を検討） |
| 17 | 将来的機能 | 修繕計画の管理 | 計画的な修繕予算・工事管理の実現 | 年間計画や過去履歴と連携して修繕内容・時期を管理可能にする |
| 18 | 将来的機能 | 外部業者連携 | 点検業者・修繕業者との効率的な連携 | 外部業者とのCSV連携、将来的にはAPIによる連携も視野に |
| 19 | 将来的機能 | 点検PDFの事業所アップロード | 現場による直接登録による迅速な情報反映 | 事業所から法定点検PDFを直接アップロード可能に（現状は本社対応） |

---

# 7\. 非機能要件 {#7.-非機能要件}

* セキュリティ  
  * ログイン認証：メールアドレス＋パスワードによる認証方式を採用  
  * アクセス制御：ロール（システム管理者、編集者、承認者、閲覧者）に基づき機能を制限  
  * IP制限：社内の固定IPアドレスからのみアクセスを許可する設定を行う  
  * お気に入り設定のセキュリティ：ログインユーザーと紐付けて管理し、外部からのアクセスは不可  
* 操作性  
  * PCブラウザのみ対応（モバイル・タブレットは非対応）  
* 保守性  
  * 管理画面からの設定値変更が可能  
  * 定期的なバックアップ運用を実施  
* 保管要件  
  * 契約書・点検報告書等のPDFファイルを3年間保管（法定要件に準拠）  
* 保存方法：  
  * ユーザーが登録した「お気に入り設定」などの情報は、業務用の一般的なデータベースに保存されます。これにより、登録された情報を正確かつ安全に保管できるだけでなく、将来的に機能を追加したり、集計・分析を行うことにも対応できます。  
* 閲覧権限（アクセス制御）：  
  * 「お気に入り設定」は原則として登録したユーザー本人のみが閲覧可能です。他ユーザーには表示されません。  
  * ただし、運用管理上の必要がある場合に限り、システム管理者は全ユーザーの「お気に入り設定」を参照可能とします。

---

# 8\. データ要件（例） {#8.-データ要件（例）}

| 項目名 | 型 | 必須 | 備考 |
| ----- | ----- | ----- | ----- |
| 会社名 | 文字列 | ◯ |  |
| 事業所コード | 数値 | ◯ | 一意の識別子（7桁など） |
| 指定番号 | 数値 | ◯ | 行政で定められた施設番号 |
| 施設名 | 文字列 | ◯ | 同一法人内で一意であること |
| 郵便番号 | 文字列 | ◯ | ハイフンあり／なし統一必要 |
| 住所 | 文字列 | ◯ | 都道府県＋市区町村含む |
| 電話番号 | 文字列 | ◯ | 半角ハイフン形式 |
| FAX番号 | 文字列 | 任意 |  |

# ---

# 9\. 権限・操作制限（承認フロー含む） {#9.-権限・操作制限（承認フロー含む）}

* ユーザーはロールにより操作可能範囲が制限される

* 各操作ログは記録され、CSV出力後も追跡可能

#### 承認フロー： {#承認フロー：}

1. 編集者が登録／編集／削除を申請

2. 承認者に通知が届く

3. 承認 or 差戻し（差戻し時はコメント入力）

4. 編集者が再申請し、承認されると正式に反映

5. 全履歴はログに記録され、出力・監査対応が可能

---

# 10\. スケジュール {#10.-スケジュール}

| フェーズ | 内容 | 期間 |
| ----- | ----- | ----- |
| モック作成 | Adaloにて主要画面の構築 | ～2025年6月27日 |
| 要件定義 | ドキュメント整理／Backlog管理 | ～2025年7月15日 |
| 設計・開発 | Laravel \+ AWS による実装 | 7月下旬～8月中旬 |
| テスト・調整 | フィードバック／不具合修正 | 9月〜10月 |
| 本番リリース | 運用開始 | 11月初旬 |

---

# 11\. 添付資料・参考資料（予定） {#11.-添付資料・参考資料（予定）}

* [機能要件一覧（スプレッドシート）](https://docs.google.com/spreadsheets/d/145Jp-tGGYXCY_t7SXxq8MjcaRrBF90x7xYYpLBJIhzc/edit?gid=501439347#gid=501439347)  
* [組織図](https://docs.google.com/spreadsheets/d/1XCMsHDUCr5tywxzyJGJIpwuUL3yZ0f-Zh9_OlR9xImo/edit?gid=897737116#gid=897737116)  
* [入力項目一覧](https://docs.google.com/spreadsheets/d/1j58Q1nFykyZnM1crjYbl_CABzFx93JQljDfLbui4uG0/edit?gid=1593083521#gid=1593083521)  
* [定例会議事録](https://docs.google.com/document/d/1HRcP-BLxvMKeYDBPMAg_wzk8Lh7EDRQSopkWYt-_a-U/edit?tab=t.0)

